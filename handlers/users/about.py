from aiogram import types
from aiogram.types import CallbackQuery
from aiogram.utils.markdown import hlink

from keyboards.inline.about import keybord_about, keybord_back_about
from loader import dp, _


@dp.message_handler(text="üöÄ About Crypto Market Service")
async def snow_menu_en(message: types.Message):
    await show_menu(message)


@dp.message_handler(text="üöÄ –û —Å–µ—Ä–≤–∏—Å–µ Crypto Market")
async def show_menu(message: types.Message):
    text = _(
        'üöÄ –û —Å–µ—Ä–≤–∏—Å–µ Crypto Market\n\n'
        'Crypto Market, —ç—Ç–æ –º–µ—Å—Ç–æ –≥–¥–µ —Ç—ã –º–æ–∂–µ—à—å –∫—É–ø–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–æ–ª—é—Ç—É —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–µ–π.\n\n'
        '–°–µ—Ä–≤–∏—Å –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –∫—Ä–∏–ø—Ç–æ–≤–æ–ª—é—Ç—É , –∞ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –æ–±–º–µ–Ω–Ω–∏–∫–æ–º –º–µ–∂–¥—É –±–∏—Ä–∂–µ–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.\n\n'
        '–ú—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–∞ –∫–æ–º–∏—Å–∏–∏ –∏ –±–µ—Ä–µ–º 0.45% –æ—Ç —Å–¥–µ–ª–∫–∏.–£ –Ω–∞—Å —Ç–∞–∫ –∂–µ –µ—Å—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—Å—è —Å –Ω–µ–π –º–æ–∂–Ω–æ –ø–æ –∫–Ω–æ–ø–∫–µ –Ω–∏–∂–µ ‚¨áÔ∏è\n\n'
        '–¢–∞–∫ –∂–µ –≤—Å–µ–º –∫—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è –º–∏—Ä–æ–º –∫—Ä–∏–ø—Ç–æ–≤–æ–ª—é—Ç—ã , —Å–æ–≤–µ—Ç—É–µ–º –Ω–∞—à —Ç–µ–ª–µ–≥—Ä–∞–º–º {—Åhannel}. –¢–∞–º –º—ã –ø—É–±–ª–∏–∫—É–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –∏ –≤—ã–≥–æ–¥–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏.'

    ).format(
        —Åhannel=hlink(_("–∫–∞–Ω–∞–ª"), url="https://t.me/sliv_litvinwb")
    )
    await message.answer(text, reply_markup=keybord_about, disable_web_page_preview=True)


@dp.callback_query_handler(text="backreferal")
async def show_set_menu(call: CallbackQuery):
    await call.answer(cache_time=60)
    await call.message.delete()
    text = _(
        'üöÄ –û —Å–µ—Ä–≤–∏—Å–µ Crypto Market\n\n'
        'Crypto Market, —ç—Ç–æ –º–µ—Å—Ç–æ –≥–¥–µ —Ç—ã –º–æ–∂–µ—à—å –∫—É–ø–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–æ–ª—é—Ç—É —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–µ–π.\n\n'
        '–°–µ—Ä–≤–∏—Å –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –∫—Ä–∏–ø—Ç–æ–≤–æ–ª—é—Ç—É , –∞ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –æ–±–º–µ–Ω–Ω–∏–∫–æ–º –º–µ–∂–¥—É –±–∏—Ä–∂–µ–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.\n\n'
        '–ú—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–∞ –∫–æ–º–∏—Å–∏–∏ –∏ –±–µ—Ä–µ–º 0.45% –æ—Ç —Å–¥–µ–ª–∫–∏.–£ –Ω–∞—Å —Ç–∞–∫ –∂–µ –µ—Å—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—Å—è —Å –Ω–µ–π –º–æ–∂–Ω–æ –ø–æ –∫–Ω–æ–ø–∫–µ –Ω–∏–∂–µ ‚¨áÔ∏è\n\n'
        '–¢–∞–∫ –∂–µ –≤—Å–µ–º –∫—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è –º–∏—Ä–æ–º –∫—Ä–∏–ø—Ç–æ–≤–æ–ª—é—Ç—ã , —Å–æ–≤–µ—Ç—É–µ–º –Ω–∞—à —Ç–µ–ª–µ–≥—Ä–∞–º–º {—Åhannel}. –¢–∞–º –º—ã –ø—É–±–ª–∏–∫—É–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –∏ –≤—ã–≥–æ–¥–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏.'

    ).format(
        —Åhannel=hlink(_("–∫–∞–Ω–∞–ª"), url="https://t.me/sliv_litvinwb")
    )
    await call.message.answer(text, reply_markup=keybord_about, disable_web_page_preview=True)


@dp.callback_query_handler(text="referal")
async def show_set_menu(call: CallbackQuery):
    await call.answer(cache_time=60)
    await call.message.delete()
    bot_user = await dp.bot.get_me()
    text = _(
        'üó£ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞\n\n'
        '–ó–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º—ã –≤—ã–ø–ª–∞—á–∏–≤–∞–µ–º 0.15% –æ—Ç –æ–±—â–µ–π —Å—É–º–º—ã –µ–≥–æ —Å–¥–µ–ª–æ–∫.\n\n'
        '–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞: http://t.me/{bot_name}?start={user_id}\n\n'
        '–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ \n¬´üîê –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ¬ª'
    ).format(
        bot_name=bot_user.username,
        user_id=call.message.from_user.id
    )
    await call.message.answer(text, reply_markup=keybord_back_about, disable_web_page_preview=True)
